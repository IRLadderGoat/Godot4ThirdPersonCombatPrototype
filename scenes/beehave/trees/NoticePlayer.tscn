[gd_scene load_steps=14 format=3 uid="uid://cny13dlefh6sv"]

[ext_resource type="Script" path="res://addons/beehave/nodes/composites/sequence.gd" id="1_1uvwj"]
[ext_resource type="Script" path="res://addons/beehave/nodes/composites/selector.gd" id="2_oq123"]
[ext_resource type="Script" path="res://addons/beehave/nodes/leaves/blackboard_compare.gd" id="3_1pq2f"]
[ext_resource type="Script" path="res://addons/beehave/nodes/leaves/blackboard_set.gd" id="4_1n6ju"]
[ext_resource type="Script" path="res://scripts/beehave/can_see_target.gd" id="5_kwlnp"]
[ext_resource type="Script" path="res://scripts/beehave/target_in_range.gd" id="6_mvsvu"]
[ext_resource type="Script" path="res://scripts/beehave/close_to_target.gd" id="7_te7m5"]
[ext_resource type="Script" path="res://scripts/beehave/reset_wait.gd" id="8_7nv15"]
[ext_resource type="PackedScene" uid="uid://5653b3wcf25p" path="res://scenes/beehave/inputs/InputNone.tscn" id="9_vkbnf"]
[ext_resource type="Script" path="res://scripts/beehave/wait.gd" id="10_vqvhi"]
[ext_resource type="Script" path="res://addons/beehave/nodes/composites/selector_random.gd" id="11_j45vt"]
[ext_resource type="PackedScene" uid="uid://chv25a2oggqaw" path="res://scenes/beehave/wait/WaitBlock.tscn" id="12_32qc1"]
[ext_resource type="PackedScene" uid="uid://ppcsagqgu032" path="res://scenes/beehave/inputs/InputForwards.tscn" id="13_qn06h"]

[node name="NoticePlayer" type="Node"]
script = ExtResource("1_1uvwj")

[node name="CanNoticePlayer" type="Node" parent="."]
script = ExtResource("2_oq123")

[node name="CheckBlackboard" type="Node" parent="CanNoticePlayer"]
script = ExtResource("1_1uvwj")

[node name="GetNoticePlayer" type="Node" parent="CanNoticePlayer/CheckBlackboard"]
script = ExtResource("3_1pq2f")
left_operand = "get_value(\"notice_player\")"
right_operand = "bool(1)"

[node name="DontNoticePlayer" type="Node" parent="CanNoticePlayer/CheckBlackboard"]
script = ExtResource("4_1n6ju")
key = "\"notice_player\""
value = "bool(0)"

[node name="CheckNoticePlayer" type="Node" parent="CanNoticePlayer"]
script = ExtResource("1_1uvwj")

[node name="CanSeeTarget" type="Node" parent="CanNoticePlayer/CheckNoticePlayer"]
script = ExtResource("5_kwlnp")

[node name="TargetInRange" type="Node" parent="CanNoticePlayer/CheckNoticePlayer"]
script = ExtResource("6_mvsvu")
look_range = 8.0

[node name="LookAtTarget" type="Node" parent="."]
script = ExtResource("4_1n6ju")
key = "\"look_at_target\""
value = "bool(1)"

[node name="LockedOn" type="Node" parent="."]
script = ExtResource("4_1n6ju")
key = "\"locked_on\""
value = "bool(1)"

[node name="StayOrChase" type="Node" parent="."]
script = ExtResource("2_oq123")

[node name="StayIfClose" type="Node" parent="StayOrChase"]
script = ExtResource("1_1uvwj")

[node name="CloseToTarget" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("7_te7m5")
target_range = 2.5

[node name="ResetWaitBeforeChase" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("8_7nv15")
wait_id = 1

[node name="InputNone" parent="StayOrChase/StayIfClose" instance=ExtResource("9_vkbnf")]

[node name="Wait" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("10_vqvhi")
time = 1.0
wait_id = 2

[node name="SquareUp" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("1_1uvwj")

[node name="WalkSpeed" type="Node" parent="StayOrChase/StayIfClose/SquareUp"]
script = ExtResource("4_1n6ju")
key = "\"move_speed\""
value = "0.8"

[node name="Strafe" type="Node" parent="StayOrChase/StayIfClose/SquareUp"]
script = ExtResource("11_j45vt")

[node name="MoveLeft" type="Node" parent="StayOrChase/StayIfClose/SquareUp/Strafe"]
script = ExtResource("4_1n6ju")
key = "\"input_direction\""
value = "Vector3(-1, 0, 0)"

[node name="MoveRight" type="Node" parent="StayOrChase/StayIfClose/SquareUp/Strafe"]
script = ExtResource("4_1n6ju")
key = "\"input_direction\""
value = "Vector3(1, 0, 0)"

[node name="WaitBlock" parent="StayOrChase/StayIfClose/SquareUp" instance=ExtResource("12_32qc1")]
wait_id = 3
wait_time = 2.0

[node name="Chase" type="Node" parent="StayOrChase"]
script = ExtResource("1_1uvwj")

[node name="ResetWait" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("8_7nv15")
wait_id = 2

[node name="StandStill" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("4_1n6ju")
key = "\"input_direction\""
value = "Vector3(0, 0, 0)"

[node name="RunSpeed" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("4_1n6ju")
key = "\"move_speed\""
value = "3"

[node name="WaitBeforeChase" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("10_vqvhi")
time = 2.0
wait_id = 1

[node name="InputForwards" parent="StayOrChase/Chase" instance=ExtResource("13_qn06h")]

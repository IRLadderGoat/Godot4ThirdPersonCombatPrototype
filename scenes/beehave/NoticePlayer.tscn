[gd_scene load_steps=14 format=3 uid="uid://cny13dlefh6sv"]

[ext_resource type="Script" path="res://addons/beehave/nodes/composites/sequence.gd" id="1_t3b3j"]
[ext_resource type="Script" path="res://addons/beehave/nodes/composites/selector.gd" id="2_qtjcy"]
[ext_resource type="Script" path="res://addons/beehave/nodes/leaves/blackboard_compare.gd" id="3_v75wi"]
[ext_resource type="Script" path="res://addons/beehave/nodes/leaves/blackboard_set.gd" id="4_kb42s"]
[ext_resource type="Script" path="res://scripts/beehave/can_see_target.gd" id="5_1qcbx"]
[ext_resource type="Script" path="res://scripts/beehave/target_in_range.gd" id="6_v5yra"]
[ext_resource type="Script" path="res://scripts/beehave/close_to_target.gd" id="7_w4tpx"]
[ext_resource type="Script" path="res://scripts/beehave/reset_wait.gd" id="8_wubls"]
[ext_resource type="Script" path="res://scripts/beehave/wait.gd" id="9_jg3p3"]
[ext_resource type="PackedScene" uid="uid://5653b3wcf25p" path="res://scenes/beehave/StandStill.tscn" id="9_m6fib"]
[ext_resource type="Script" path="res://addons/beehave/nodes/composites/selector_random.gd" id="10_gcfgk"]
[ext_resource type="PackedScene" uid="uid://chv25a2oggqaw" path="res://scenes/beehave/WaitBlock.tscn" id="11_5w1xk"]
[ext_resource type="PackedScene" uid="uid://bxdxaxbqnawm5" path="res://scenes/beehave/RunForwards.tscn" id="12_f5wff"]

[node name="NoticePlayer" type="Node"]
script = ExtResource("1_t3b3j")

[node name="CanNoticePlayer" type="Node" parent="."]
script = ExtResource("2_qtjcy")

[node name="CheckBlackboard" type="Node" parent="CanNoticePlayer"]
script = ExtResource("1_t3b3j")

[node name="GetNoticePlayer" type="Node" parent="CanNoticePlayer/CheckBlackboard"]
script = ExtResource("3_v75wi")
left_operand = "get_value(\"notice_player\")"
right_operand = "bool(1)"

[node name="DontNoticePlayer" type="Node" parent="CanNoticePlayer/CheckBlackboard"]
script = ExtResource("4_kb42s")
key = "\"notice_player\""
value = "bool(0)"

[node name="CheckNoticePlayer" type="Node" parent="CanNoticePlayer"]
script = ExtResource("1_t3b3j")

[node name="CanSeeTarget" type="Node" parent="CanNoticePlayer/CheckNoticePlayer"]
script = ExtResource("5_1qcbx")

[node name="TargetInRange" type="Node" parent="CanNoticePlayer/CheckNoticePlayer"]
script = ExtResource("6_v5yra")
look_range = 8.0

[node name="LookAtTarget" type="Node" parent="."]
script = ExtResource("4_kb42s")
key = "\"look_at_target\""
value = "bool(1)"

[node name="LockedOn" type="Node" parent="."]
script = ExtResource("4_kb42s")
key = "\"locked_on\""
value = "bool(1)"

[node name="StayOrChase" type="Node" parent="."]
script = ExtResource("2_qtjcy")

[node name="StayIfClose" type="Node" parent="StayOrChase"]
script = ExtResource("1_t3b3j")

[node name="CloseToTarget" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("7_w4tpx")
target_range = 2.5

[node name="ResetWaitBeforeChase" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("8_wubls")
wait_id = 1

[node name="StandStill" parent="StayOrChase/StayIfClose" instance=ExtResource("9_m6fib")]

[node name="Wait" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("9_jg3p3")
time = 1.0
wait_id = 2

[node name="SquareUp" type="Node" parent="StayOrChase/StayIfClose"]
script = ExtResource("1_t3b3j")

[node name="WalkSpeed" type="Node" parent="StayOrChase/StayIfClose/SquareUp"]
script = ExtResource("4_kb42s")
key = "\"move_speed\""
value = "0.8"

[node name="Strafe" type="Node" parent="StayOrChase/StayIfClose/SquareUp"]
script = ExtResource("10_gcfgk")

[node name="MoveLeft" type="Node" parent="StayOrChase/StayIfClose/SquareUp/Strafe"]
script = ExtResource("4_kb42s")
key = "\"input_direction\""
value = "Vector3(-1, 0, 0)"

[node name="MoveRight" type="Node" parent="StayOrChase/StayIfClose/SquareUp/Strafe"]
script = ExtResource("4_kb42s")
key = "\"input_direction\""
value = "Vector3(1, 0, 0)"

[node name="WaitBlock" parent="StayOrChase/StayIfClose/SquareUp" instance=ExtResource("11_5w1xk")]
wait_id = 3
wait_time = 2.0

[node name="Chase" type="Node" parent="StayOrChase"]
script = ExtResource("1_t3b3j")

[node name="ResetWait" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("8_wubls")
wait_id = 2

[node name="StandStill" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("4_kb42s")
key = "\"input_direction\""
value = "Vector3(0, 0, 0)"

[node name="RunSpeed" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("4_kb42s")
key = "\"move_speed\""
value = "3"

[node name="WaitBeforeChase" type="Node" parent="StayOrChase/Chase"]
script = ExtResource("9_jg3p3")
time = 2.0
wait_id = 1

[node name="RunForwards" parent="StayOrChase/Chase" instance=ExtResource("12_f5wff")]
